## package-selector.tsx
"use client"

import type React from "react"

import { useState } from "react"
import { Check, X, Play, ArrowLeft } from "lucide-react"

interface Module {
  id: string
  name: string
  description?: string
  mediaUrl?: string
  exampleJson?: string
}

interface Package {
  id: string
  title: string
  description: string
  priceRange: string
  modules: Module[]
}

const packages: Package[] = [
  {
    id: "individual",
    title: "Bireysel",
    description: "Kişisel projeler ve küçük işletmeler için ideal çözüm",
    priceRange: "₺5.000 - ₺15.000",
    modules: [
      {
        id: "basic-design",
        name: "Temel Tasarım",
        description: "Modern ve kullanıcı dostu arayüz tasarımı",
        mediaUrl: "/web-design-animation.jpg",
        exampleJson: '{"pages": 3, "responsive": true}',
      },
      {
        id: "seo",
        name: "SEO Optimizasyonu",
        description: "Arama motorlarında üst sıralarda yer alın",
        exampleJson: '{"keywords": 10, "meta": true}',
      },
      {
        id: "hosting",
        name: "Hosting & Domain",
        description: "1 yıllık hosting ve domain hizmeti",
      },
    ],
  },
  {
    id: "influencer",
    title: "Influencer",
    description: "İçerik üreticileri ve sosyal medya fenomenleri için",
    priceRange: "₺15.000 - ₺35.000",
    modules: [
      {
        id: "premium-design",
        name: "Premium Tasarım",
        description: "Özel ve etkileyici görsel kimlik",
        mediaUrl: "/premium-design-showcase.jpg",
      },
      {
        id: "social-integration",
        name: "Sosyal Medya Entegrasyonu",
        description: "Instagram, TikTok, YouTube bağlantıları",
        exampleJson: '{"platforms": ["instagram", "tiktok", "youtube"]}',
      },
      {
        id: "analytics",
        name: "Analitik Dashboard",
        description: "Ziyaretçi ve etkileşim takibi",
      },
      {
        id: "content-management",
        name: "İçerik Yönetimi",
        description: "Kolay içerik güncelleme paneli",
      },
    ],
  },
  {
    id: "corporate",
    title: "Kurumsal",
    description: "Büyük ölçekli işletmeler ve kurumlar için",
    priceRange: "₺35.000+",
    modules: [
      {
        id: "enterprise-design",
        name: "Kurumsal Tasarım",
        description: "Marka kimliğinize özel profesyonel tasarım",
        mediaUrl: "/corporate-website-design.png",
      },
      {
        id: "custom-features",
        name: "Özel Özellikler",
        description: "İhtiyaçlarınıza özel geliştirmeler",
        exampleJson: '{"custom": true, "api": true}',
      },
      {
        id: "multi-language",
        name: "Çoklu Dil Desteği",
        description: "Birden fazla dilde içerik yönetimi",
      },
      {
        id: "priority-support",
        name: "Öncelikli Destek",
        description: "7/24 teknik destek hizmeti",
      },
      {
        id: "training",
        name: "Eğitim & Danışmanlık",
        description: "Ekibiniz için özel eğitim programı",
      },
    ],
  },
]

export function PackageSelector() {
  const [selectedPackage, setSelectedPackage] = useState<string | null>(null)
  const [selectedModules, setSelectedModules] = useState<Record<string, string[]>>({})
  const [hoveredModule, setHoveredModule] = useState<Module | null>(null)
  const [showForm, setShowForm] = useState(false)
  const [formData, setFormData] = useState({
    firstName: "",
    lastName: "",
    email: "",
    phone: "",
    companyInfo: "",
    socialMedia: [""],
  })

  const toggleModule = (packageId: string, moduleId: string) => {
    setSelectedModules((prev) => {
      const current = prev[packageId] || []
      const updated = current.includes(moduleId) ? current.filter((id) => id !== moduleId) : [...current, moduleId]
      return { ...prev, [packageId]: updated }
    })
  }

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault()
    const selectedPkg = packages.find((p) => p.id === selectedPackage)
    const modules = selectedModules[selectedPackage || ""] || []

    console.log("[v0] Form submitted:", {
      package: selectedPkg?.title,
      modules: modules,
      formData,
    })

    alert("Teklifiniz alındı! En kısa sürede size dönüş yapacağız.")
  }

  const addSocialMediaField = () => {
    setFormData((prev) => ({
      ...prev,
      socialMedia: [...prev.socialMedia, ""],
    }))
  }

  const updateSocialMedia = (index: number, value: string) => {
    setFormData((prev) => ({
      ...prev,
      socialMedia: prev.socialMedia.map((item, i) => (i === index ? value : (item ?? ""))),
    }))
  }

  const removeSocialMedia = (index: number) => {
    if (formData.socialMedia.length <= 1) return

    setFormData((prev) => ({
      ...prev,
      socialMedia: prev.socialMedia.filter((_, i) => i !== index),
    }))
  }

  const getMediaType = (url: string): "image" | "video" | null => {
    if (!url) return null
    const extension = url.split(".").pop()?.toLowerCase()
    if (["gif", "jpg", "jpeg", "png", "webp", "svg"].includes(extension || "")) return "image"
    if (["mp4", "webm", "mov", "ogg"].includes(extension || "")) return "video"
    return null
  }

  return (
    <div className="min-h-screen py-20 px-4 relative">
      <div className="max-w-7xl mx-auto">
        <div className="text-center mb-16">
          <h2 className="text-5xl md:text-6xl font-bold text-white mb-4">Paketlerimiz</h2>
          <p className="text-xl text-gray-400">Size en uygun paketi seçin ve özelleştirin</p>
        </div>

        <div
          className="relative transition-all duration-700 ease-in-out"
          style={{
            transform: showForm ? "translateX(-100%)" : "translateX(0)",
            opacity: showForm ? 0 : 1,
          }}
        >
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 overflow-visible">
            {packages.map((pkg) => {
              const isSelected = selectedPackage === pkg.id

              return (
                <div
                  key={pkg.id}
                  onClick={() => setSelectedPackage(pkg.id)}
                  className={`
                    relative rounded-2xl p-8 cursor-pointer overflow-visible
                    transition-all duration-500 ease-out
                    ${
                      isSelected
                        ? "bg-white/5 backdrop-blur-sm border-2 border-red-500 shadow-2xl shadow-red-500/20 scale-105"
                        : "bg-gray-900/50 border border-gray-800 hover:border-gray-700 hover:bg-gray-900/70"
                    }
                  `}
                  style={{
                    transitionProperty: "all",
                    willChange: "transform, opacity, background-color",
                    zIndex: isSelected ? 10 : 1,
                  }}
                >
                  {isSelected && (
                    <div className="absolute -top-3 -right-3 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center animate-pulse">
                      <Check className="w-5 h-5 text-white" />
                    </div>
                  )}

                  <div className="mb-6">
                    <h3 className="text-3xl font-bold text-white mb-2">{pkg.title}</h3>
                    <p className="text-gray-400 text-sm mb-4">{pkg.description}</p>
                    <div className="text-2xl font-bold text-red-500">{pkg.priceRange}</div>
                  </div>

                  {isSelected && (
                    <div
                      className="space-y-3 animate-fade-in overflow-visible"
                      style={{
                        animation: "fadeSlideIn 0.5s ease-out forwards",
                      }}
                    >
                      <div className="text-sm font-semibold text-gray-300 mb-3">Modüller:</div>
                      {pkg.modules.map((module) => {
                        const isModuleSelected = Boolean(selectedModules[pkg.id]?.includes(module.id))

                        return (
                          <div
                            key={module.id}
                            className="relative overflow-visible"
                            onMouseEnter={() => setHoveredModule(module)}
                            onMouseLeave={() => setHoveredModule(null)}
                            onFocus={() => setHoveredModule(module)}
                            onBlur={() => setHoveredModule(null)}
                            tabIndex={0}
                          >
                            <label className="flex items-center gap-3 p-3 rounded-lg bg-gray-800/50 hover:bg-gray-800 transition-colors cursor-pointer group">
                              <input
                                type="checkbox"
                                checked={isModuleSelected}
                                onChange={() => toggleModule(pkg.id, module.id)}
                                className="w-5 h-5 rounded border-gray-600 text-red-500 focus:ring-red-500 focus:ring-offset-0 cursor-pointer"
                              />
                              <span className="text-sm text-gray-300 group-hover:text-white transition-colors flex-1">
                                {module.name}
                              </span>
                              {(module.mediaUrl || module.description) && (
                                <Play className="w-4 h-4 text-gray-500 group-hover:text-red-500 transition-colors" />
                              )}
                            </label>

                            {hoveredModule?.id === module.id && (module.description || module.mediaUrl) && (
                              <div
                                className="absolute left-full top-0 ml-4 w-80 bg-gray-900 border border-gray-700 rounded-xl p-4 shadow-2xl z-[100] animate-fade-slide-in pointer-events-none
                                  md:left-full md:top-0 md:ml-4
                                  max-md:left-0 max-md:top-full max-md:mt-2 max-md:ml-0"
                                style={{
                                  animation: "fadeSlideIn 0.3s ease-out forwards",
                                }}
                              >
                                <h4 className="text-white font-semibold mb-2">{module.name}</h4>
                                {module.description && (
                                  <p className="text-gray-400 text-sm mb-3">{module.description}</p>
                                )}
                                {module.mediaUrl && (
                                  <div className="aspect-video bg-black rounded-lg overflow-hidden pointer-events-auto">
                                    {getMediaType(module.mediaUrl) === "image" ? (
                                      <img
                                        src={module.mediaUrl || "/placeholder.svg"}
                                        alt={module.name}
                                        className="w-full h-full object-cover"
                                      />
                                    ) : getMediaType(module.mediaUrl) === "video" ? (
                                      <video
                                        src={module.mediaUrl}
                                        autoPlay
                                        loop
                                        muted
                                        playsInline
                                        className="w-full h-full object-cover"
                                      />
                                    ) : null}
                                  </div>
                                )}
                                {module.exampleJson && (
                                  <pre className="mt-3 text-xs text-gray-500 bg-black/50 p-2 rounded overflow-x-auto">
                                    {module.exampleJson}
                                  </pre>
                                )}
                              </div>
                            )}
                          </div>
                        )
                      })}
                    </div>
                  )}

                  {isSelected && (
                    <button
                      onClick={(e) => {
                        e.stopPropagation()
                        setShowForm(true)
                      }}
                      className="w-full mt-6 py-3 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg transition-all duration-300 hover:shadow-lg hover:shadow-red-500/50 hover:scale-105"
                    >
                      TEKLİF AL
                    </button>
                  )}
                </div>
              )
            })}
          </div>
        </div>

        {showForm && (
          <div
            className="absolute inset-0 animate-slide-in"
            style={{
              animation: "slideIn 0.7s ease-out forwards",
            }}
          >
            <div className="max-w-2xl mx-auto bg-gray-900/90 backdrop-blur-sm border border-gray-800 rounded-2xl p-8">
              <div className="flex justify-between items-center mb-6">
                <h3 className="text-3xl font-bold text-white">Teklif Formu</h3>
                <button
                  onClick={() => setShowForm(false)}
                  className="flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors"
                >
                  <ArrowLeft className="w-5 h-5" />
                  <span className="text-sm font-medium">Geri Dön</span>
                </button>
              </div>

              <div className="mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg">
                <div className="text-sm text-gray-300">
                  <strong className="text-white">Seçili Paket:</strong>{" "}
                  {packages.find((p) => p.id === selectedPackage)?.title}
                </div>
                {selectedModules[selectedPackage || ""]?.length > 0 && (
                  <div className="text-sm text-gray-300 mt-2">
                    <strong className="text-white">Seçili Modüller:</strong>{" "}
                    {selectedModules[selectedPackage || ""]
                      .map((modId) => {
                        const pkg = packages.find((p) => p.id === selectedPackage)
                        const mod = pkg?.modules.find((m) => m.id === modId)
                        return mod?.name
                      })
                      .join(", ")}
                  </div>
                )}
              </div>

              <form onSubmit={handleSubmit} className="space-y-4">
                <div className="grid grid-cols-2 gap-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-300 mb-2">
                      İsim <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      required
                      value={formData.firstName ?? ""}
                      onChange={(e) => setFormData((prev) => ({ ...prev, firstName: e.target.value }))}
                      className="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-500 transition-colors"
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-300 mb-2">
                      Soyisim <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      required
                      value={formData.lastName ?? ""}
                      onChange={(e) => setFormData((prev) => ({ ...prev, lastName: e.target.value }))}
                      className="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-500 transition-colors"
                    />
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-2">
                    E-posta <span className="text-red-500">*</span>
                  </label>
                  <input
                    type="email"
                    required
                    value={formData.email ?? ""}
                    onChange={(e) => setFormData((prev) => ({ ...prev, email: e.target.value }))}
                    className="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-500 transition-colors"
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-2">
                    Telefon <span className="text-red-500">*</span>
                  </label>
                  <input
                    type="tel"
                    required
                    value={formData.phone ?? ""}
                    onChange={(e) => setFormData((prev) => ({ ...prev, phone: e.target.value }))}
                    className="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-500 transition-colors"
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-2">Kurumsal Bilgi (İsteğe bağlı)</label>
                  <textarea
                    rows={3}
                    value={formData.companyInfo ?? ""}
                    onChange={(e) => setFormData((prev) => ({ ...prev, companyInfo: e.target.value }))}
                    placeholder="Şirket adı, sektör, proje detayları..."
                    className="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-500 transition-colors resize-none"
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-2">
                    Sosyal Medya Hesapları (İsteğe bağlı)
                  </label>
                  <div className="space-y-2">
                    {formData.socialMedia.map((social, index) => (
                      <div key={index} className="flex gap-2">
                        <input
                          type="text"
                          value={social ?? ""}
                          onChange={(e) => updateSocialMedia(index, e.target.value)}
                          placeholder="@kullaniciadi veya platform/kullaniciadi"
                          className="flex-1 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-500 transition-colors"
                        />
                        {formData.socialMedia.length > 1 && (
                          <button
                            type="button"
                            onClick={() => removeSocialMedia(index)}
                            className="px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-400 hover:text-red-500 hover:border-red-500 transition-colors"
                          >
                            <X className="w-5 h-5" />
                          </button>
                        )}
                      </div>
                    ))}
                    <button
                      type="button"
                      onClick={addSocialMediaField}
                      className="text-sm text-red-500 hover:text-red-400 transition-colors"
                    >
                      + Hesap Ekle
                    </button>
                  </div>
                </div>

                <button
                  type="submit"
                  className="w-full py-3 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg transition-all duration-300 hover:shadow-lg hover:shadow-red-500/50 mt-6"
                >
                  Teklif Gönder
                </button>
              </form>
            </div>
          </div>
        )}
      </div>
    </div>
  )
}

## corporate